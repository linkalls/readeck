{{ extends "./base" }}
{{ import "/_libs/forms" }}

{{ block title() }}Password{{ end }}

{{ block mainContent() }}
<h1 class="title text-h2">Change your password</h1>

<form action="{{ urlFor() }}" method="post">
  {{ yield formErrors(form=.Form) }}
  {{ yield csrfField() }}

  {{ yield textField(
    field=.Form.Get("current"),
    type="password",
    label="Current password",
    class="field-h",
  ) }}

  {{ yield textField(
    field=.Form.Get("password"),
    type="password",
    label="New password",
    class="field-h",
    help="must be at least 8 characters long",
    controlAttrs=attrList("data-controller", "pass-reveal",
                          "data-pass-reveal-icon-show-value", "o-show",
                          "data-pass-reveal-icon-hide-value", "o-hide"),
    inputAttrs=attrList("data-pass-reveal-target", "field"),
  ) }}

  <p><button class="btn-primary" type="submit">Save</button></p>
</form>

{{ end }}
