<div class="flex items-center leading-none">
  <h1 class="text-2xl leading-none font-semibold mb-1 w-48 +md:w-auto"><a
    href="{{ urlFor(`/`) }}">Readeck</a></h1>
  <ul class="flex-grow flex ml-4 gap-1">
    {{- if  hasPermission("bookmarks", "read") -}}
      <li><a href="{{ urlFor(`/bookmarks/unread`) }}"
        class="nav:link" data-current="{{ pathIs(`/bookmarks`, `/bookmarks/*`) }}"
      >{{ yield icon(name="o-library") }} Bookmarks</a></li>
    {{- end -}}
  </ul>

  {{- if !user.IsAnonymous() -}}
  <ul>
    <li class="relative">
      <label for="--menu-toggle" tabindex="0" title="{{ user.Username }}"
       class="inline-flex items-center justify-center w-10 h-10 text-2xl leading-none
        cursor-pointer select-none rounded-full bg-white bg-opacity-20
        hf:bg-opacity-30 hf:ring-white hf:ring-1">{{ yield icon(name="o-user", svgClass="") }}</label>
      <input type="checkbox" id="--menu-toggle" class="menu:ctrl">
      <ul class="absolute z-30 top-10 right-0 w-48 py-2 bg-gray-100 rounded shadow-md">
        {{- if  hasPermission("profile", "read") -}}
          <li><a class="block px-4 py-2 text-gray-800 hf:text-white hf:bg-primary"
           href="{{ urlFor(`/profile`) }}">{{ yield icon(name="o-user") }} Settings</a></li>
        {{- end -}}
        {{- if  hasPermission("admin:users", "read") -}}
          <li><a class="block px-4 py-2 text-gray-800 hf:text-white hf:bg-primary"
           href="{{ urlFor(`/admin`) }}">{{ yield icon(name="o-settings") }} Admin</a></li>
        {{- end -}}
        <li class="mt-2 border-t border-gray-300">
          <form class="block mt-2" action="{{ urlFor(`/logout`)}}" method="post">
            <button class="w-full px-4 py-2 text-gray-800 hf:text-white hf:bg-primary text-left" type="submit">{{ yield icon(name="o-logout") }} Log out</button>
          </form>
        </li>
      </ul>
    </li>
  </ul>
  {{- end -}}
</div>
