/*
 * SPDX-FileCopyrightText: Â© 2021 Olivier Meunier <olivier@neokraft.net>
 *
 * SPDX-License-Identifier: AGPL-3.0-only
 */

@layer utilities
  .layout-topbar
    @apply flex-shrink-0
    @apply h-topnav

.layout
  @apply min-h-screen grid
  @apply grid-cols-[theme(spacing.col-1)_theme(spacing.col-5)_auto]

  @apply max-sm:flex max-sm:flex-col

  @apply print:block

.layout--bookmark
  @apply grid-cols-[theme(spacing.col-1)_auto]

.layout-topnav
  @apply flex flex-col flex-shrink-0 gap-2
  @apply box-border py-2 w-col-1 h-screen
  @apply sticky top-0 z-20
  @apply bg-gray-200 text-black

  @apply max-sm:flex-row max-sm:w-full max-sm:h-topnav max-sm:px-2

  @apply print:hidden

  .logo
    @apply flex items-center justify-center
    @apply layout-topbar

    @apply max-sm:h-auto

  .mainmenu
    @apply flex-1 overflow-y-auto
    @apply flex flex-col items-center gap-2

    @apply max-sm:flex-row

    menu
      @apply flex flex-col gap-3

      @apply max-sm:flex-row max-sm:gap-2

      a, button
        @apply block
        @apply rounded
        @apply p-3 max-xs:px-2
        @apply text-gray-900 bg-black bg-opacity-5
        @apply hf:bg-opacity-10
        @apply data-current:bg-yellow-400 data-current:text-yellow-800 data-current:bg-opacity-50

        .svgicon svg
          @apply w-5 h-5

.sidemenu
  @apply flex-shrink-0 sticky top-0 z-30 h-screen overflow-y-auto shadow-sidebar-l bg-gradient-to-r from-gray-50 to-gray-100 px-4
  @apply max-sm:w-full max-sm:fixed max-sm:bottom-0 max-sm:left-0 max-sm:top-auto max-sm:hidden max-sm:peer-checked:block

  @apply print:hidden

  menu a
    @apply hf:text-primary data-current:font-bold data-current:text-primary-dark
    @apply block leading-none py-1 pl-1 mb-1 border-l-2 border-transparent hf:border-primary data-current:border-primary-dark
    @apply max-md:mb-2 max-md:text-lg

    .svgicon svg
      @apply w-5 h-5

.layout-content
  @apply bg-transparent px-6 py-8

.bookmark-grid
  @apply grid
  @apply grid-cols-[minmax(auto,_theme(spacing.col-22))_theme(spacing.col-6)]

  @apply max-md:flex max-md:flex-col
  @apply max-md:min-h-screen

  @apply max-sm:min-h-[calc(100vh-4rem)]

  @apply print:block


.bookmark-content
  @apply col-start-1
  @apply row-start-1

  @apply bg-transparent
  @apply max-w-col-22 px-6 pb-8
  @apply scroll-pt-topnav

  @apply md:min-h-screen

  @apply max-md:px-4

  @apply print:overflow-visible
  @apply print:max-w-none
  @apply print:px-0
      

.bookmark-sidebar
  @apply col-start-2
  @apply row-start-1

  @apply w-col-6 h-screen sticky overflow-y-auto
  @apply border-l border-l-gray-200

  @apply md:top-0

  @apply max-md:order-last
  @apply max-md:bottom-0 max-md:bg-white
  @apply max-md:w-full max-md:max-h-topnav
  @apply max-md:overflow-y-hidden
  @apply max-md:flex max-md:flex-col
  @apply max-md:shadow-panel-t
  @apply max-md:transition-all max-md:ease-in-out

  @apply max-md:peer-checked:max-h-[60vh]
  @apply max-md:peer-checked:[&>div>label>span>svg]:rotate-180

  @apply print:static print:max-w-none print:w-full print:h-auto print:overflow-visible
  @apply print:mb-8 print:border-b print:border-l-0
